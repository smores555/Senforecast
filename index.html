<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Seniority Forecast</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- =========================
       Header
  ========================== -->
  <header>
    <img src="ala-mec-logo.png" alt="ALPA Alaska MEC" class="logo">
    <h1>Seniority Forecast</h1>
  </header>

  <!-- =========================
       Main Content
  ========================== -->
  <main class="container">
    <!-- Master Projection -->
    <section class="card">
      <h2>Your Projection</h2>
      <p class="instructions">
        Enter your seniority number and a future date to see where you’re projected to be on the seniorty list and how many retirements will occur ahead of you by that point.
      </p>
      <div class="controls">
        <div class="field">
          <label for="yourSeniority">Your seniority #</label>
          <input id="yourSeniority" type="number" inputmode="numeric" min="1" step="1" />
        </div>
        <div class="field">
          <label for="targetDate">Target date</label>
          <input id="targetDate" type="date" />
        </div>
        <button id="runMaster">Run</button>
        <span id="runMasterStatus" class="small"></span>
      </div>
      <div class="results">
        <div>Projected seniority on target date: <strong id="projOnDate">—</strong></div>
        <div>Retirees ahead by that date: <strong id="retireesAhead">—</strong></div>
        <div>Your retirement month: <strong id="yourRetireMonth">—</strong></div>
        <div>Your seniority at retirement: <strong id="yourRetireRank">—</strong></div>
      </div>
    </section>

    <!-- Base / Seat Projection -->
    <section class="card">
      <h2>Base / Seat Projection</h2>
      <p class="instructions">
        Select your base and seat to estimate where you’ll sit in that base on the selected date and how many retirements are expected ahead of you (assumes everyone goes to 65).
      </p>
      <div class="controls">
        <div class="field">
          <label for="baseSelect">Base</label>
          <select id="baseSelect"></select>
        </div>
        <div class="field">
          <label for="seatSelect">Seat</label>
          <select id="seatSelect"></select>
        </div>
        <button id="runBaseSeat">Calculate</button>
        <span id="runBaseSeatStatus" class="small"></span>
      </div>
      <div class="results">
        <div>Position on target date: <strong id="basePos">—</strong></div>
        <div>Active headcount on target date: <strong id="baseActive">—</strong></div>
        <details style="margin-top:8px;">
          <summary>Who retires ahead of you in this base/seat before the target date</summary>
          <div class="table-wrap">
            <table id="baseRetList">
              <thead>
                <tr><th>Seniority</th><th>Retire month</th></tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </details>
      </div>
    </section>

    <!-- Optional Banner -->
    <div class="banner" id="warningBanner">
      Something's off — check your inputs.
    </div>
  </main>

  <!-- =========================
       Floating Back to Top
  ========================== -->
  <button id="backToTop" class="floating-btn">↑ Top</button>

  <!-- =========================
       Scripts
  ========================== -->
  <script src="senforecast.js"></script>
  <script>
    const btn = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 300) {
        btn.classList.add('show');
      } else {
        btn.classList.remove('show');
      }
    });
    btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
  </script>
</body>
</html>
